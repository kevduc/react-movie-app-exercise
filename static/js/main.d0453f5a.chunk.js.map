{"version":3,"sources":["services/fakeGenreService.js","services/fakeMovieService.js","components/common/Pagination.jsx","utils/paginate.js","components/common/ListGroup.jsx","components/common/Like.jsx","components/common/StarRating.jsx","components/common/DeleteButton.jsx","components/common/TableHeader.jsx","components/common/TableBody.jsx","components/common/Table.jsx","components/MoviesTable.jsx","components/Movies.jsx","App.jsx","index.js"],"names":["genres","_id","name","movies","title","genre","numberInStock","dailyRentalRate","publishDate","liked","Pagination","itemsCount","pageSize","currentPage","onPageChange","pagesCount","Math","ceil","pages","_","range","aria-label","className","key","onClick","tabIndex","map","pageNumber","paginate","items","startIndex","slice","take","value","ListGroup","textProperty","valueProperty","selectedItem","onItemSelect","item","text","defaultProps","Like","colorUnliked","colorLiked","icon","fullHeart","emptyHeart","color","style","StarRating","getStars","props","rating","maxRating","hideEmptyStars","fullStarCount","floor","halfStar","halfStarNoBorder","halfStarBorder","hasHalf","stars","Array","fill","emptyStar","fullStar","renderStars","star","index","this","Component","DeleteButton","type","cross","TableHeader","sortBy","propertyPath","sortColumn","order","asc","desc","onSort","getSortIcon","column","faSort","faSortDown","faSortUp","null","renderSortIcon","size","columns","label","isSortable","scope","role","TableBody","renderCell","render","get","createKey","data","Table","MoviesTable","movie","onLike","onDelete","Movies","state","selectedGenre","handleLike","movieId","movieIndex","findIndex","setState","handleDelete","filter","pageCount","length","clamp","handlePageChange","page","handleGenreChange","handleSort","sort","getPagedData","processedMovies","totalMovieCount","moviesOnPage","genreAny","g","sortedMovies","reverse","App","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d0453f5a.chunk.js","sourcesContent":["export const genres = [\n  { _id: '5b21ca3eeb7f6fbccd471818', name: 'Action' },\n  { _id: '5b21ca3eeb7f6fbccd471814', name: 'Comedy' },\n  { _id: '5b21ca3eeb7f6fbccd471820', name: 'Thriller' },\n]\n\nexport function getGenres() {\n  return genres.filter((g) => g)\n}\n","import * as genresAPI from './fakeGenreService'\n\nconst movies = [\n  {\n    _id: '5b21ca3eeb7f6fbccd471815',\n    title: 'Terminator',\n    genre: { _id: '5b21ca3eeb7f6fbccd471818', name: 'Action' },\n    numberInStock: 6,\n    dailyRentalRate: 2.5,\n    publishDate: '2018-01-03T19:04:28.809Z',\n    liked: true,\n  },\n  {\n    _id: '5b21ca3eeb7f6fbccd471816',\n    title: 'Die Hard',\n    genre: { _id: '5b21ca3eeb7f6fbccd471818', name: 'Action' },\n    numberInStock: 5,\n    dailyRentalRate: 2.5,\n    liked: false,\n  },\n  {\n    _id: '5b21ca3eeb7f6fbccd471817',\n    title: 'Get Out',\n    genre: { _id: '5b21ca3eeb7f6fbccd471820', name: 'Thriller' },\n    numberInStock: 8,\n    dailyRentalRate: 3.5,\n    liked: false,\n  },\n  {\n    _id: '5b21ca3eeb7f6fbccd471819',\n    title: 'Trip to Italy',\n    genre: { _id: '5b21ca3eeb7f6fbccd471814', name: 'Comedy' },\n    numberInStock: 7,\n    dailyRentalRate: 3.5,\n    liked: false,\n  },\n  {\n    _id: '5b21ca3eeb7f6fbccd47181a',\n    title: 'Airplane',\n    genre: { _id: '5b21ca3eeb7f6fbccd471814', name: 'Comedy' },\n    numberInStock: 7,\n    dailyRentalRate: 3.5,\n    liked: false,\n  },\n  {\n    _id: '5b21ca3eeb7f6fbccd47181b',\n    title: 'Wedding Crashers',\n    genre: { _id: '5b21ca3eeb7f6fbccd471814', name: 'Comedy' },\n    numberInStock: 7,\n    dailyRentalRate: 3.5,\n    liked: false,\n  },\n  {\n    _id: '5b21ca3eeb7f6fbccd47181e',\n    title: 'Gone Girl',\n    genre: { _id: '5b21ca3eeb7f6fbccd471820', name: 'Thriller' },\n    numberInStock: 7,\n    dailyRentalRate: 4.5,\n    liked: false,\n  },\n  {\n    _id: '5b21ca3eeb7f6fbccd47181f',\n    title: 'The Sixth Sense',\n    genre: { _id: '5b21ca3eeb7f6fbccd471820', name: 'Thriller' },\n    numberInStock: 4,\n    dailyRentalRate: 3.5,\n    liked: false,\n  },\n  {\n    _id: '5b21ca3eeb7f6fbccd471821',\n    title: 'The Avengers',\n    genre: { _id: '5b21ca3eeb7f6fbccd471818', name: 'Action' },\n    numberInStock: 7,\n    dailyRentalRate: 3.5,\n    liked: false,\n  },\n]\n\nexport function getMovies() {\n  return movies\n}\n\nexport function getMovie(id) {\n  return movies.find((m) => m._id === id)\n}\n\nexport function saveMovie(movie) {\n  let movieInDb = movies.find((m) => m._id === movie._id) || {}\n  movieInDb.name = movie.name\n  movieInDb.genre = genresAPI.genres.find((g) => g._id === movie.genreId)\n  movieInDb.numberInStock = movie.numberInStock\n  movieInDb.dailyRentalRate = movie.dailyRentalRate\n\n  if (!movieInDb._id) {\n    movieInDb._id = Date.now()\n    movies.push(movieInDb)\n  }\n\n  return movieInDb\n}\n\nexport function deleteMovie(id) {\n  let movieInDb = movies.find((m) => m._id === id)\n  movies.splice(movies.indexOf(movieInDb), 1)\n  return movieInDb\n}\n","import React from 'react'\r\nimport _ from 'lodash'\r\n\r\nconst Pagination = ({ itemsCount, pageSize, currentPage, onPageChange }) => {\r\n  const pagesCount = Math.ceil(itemsCount / pageSize)\r\n\r\n  if (pagesCount <= 1) return null\r\n\r\n  const pages = _.range(1, pagesCount + 1)\r\n\r\n  return (\r\n    <nav aria-label=\"Page navigation\">\r\n      <ul className=\"pagination justify-content-center\">\r\n        <li key=\"Previous\" className={`page-item ${currentPage === 1 ? 'disabled' : ''}`}>\r\n          <button\r\n            onClick={() => {\r\n              if (currentPage === 1) return\r\n              onPageChange(currentPage - 1)\r\n            }}\r\n            className=\"page-link\"\r\n            tabIndex=\"-1\">\r\n            Previous\r\n          </button>\r\n        </li>\r\n        {pages.map((pageNumber) => (\r\n          <li key={pageNumber} className={`page-item ${pageNumber === currentPage ? 'active' : ''}`}>\r\n            <button onClick={() => onPageChange(pageNumber)} className=\"page-link\">\r\n              {pageNumber}\r\n            </button>\r\n          </li>\r\n        ))}\r\n        <li key=\"Next\" className={`page-item ${currentPage === pagesCount ? 'disabled' : ''}`}>\r\n          <button\r\n            onClick={() => {\r\n              if (currentPage === pagesCount) return\r\n              onPageChange(currentPage + 1)\r\n            }}\r\n            className=\"page-link\">\r\n            Next\r\n          </button>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Pagination\r\n","import _ from 'lodash'\r\n\r\nexport function paginate(items, pageNumber, pageSize) {\r\n  const startIndex = (pageNumber - 1) * pageSize\r\n  return _(items).slice(startIndex).take(pageSize).value()\r\n}\r\n","import React from 'react'\r\n\r\nconst ListGroup = ({ items, textProperty, valueProperty, selectedItem, onItemSelect }) => {\r\n  return (\r\n    <div className=\"list-group\">\r\n      {items.map((item) => {\r\n        const { [textProperty]: text, [valueProperty]: value } = item\r\n        return (\r\n          <button\r\n            key={value}\r\n            onClick={() => onItemSelect(item)}\r\n            className={`text-truncate list-group-item list-group-item-action ${\r\n              selectedItem[valueProperty] === value ? 'active' : ''\r\n            }`}>\r\n            {text}\r\n          </button>\r\n        )\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n\r\nListGroup.defaultProps = {\r\n  textProperty: 'name',\r\n  valueProperty: '_id',\r\n}\r\n\r\nexport default ListGroup\r\n","import React from 'react'\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faHeart as emptyHeart } from '@fortawesome/free-regular-svg-icons'\r\nimport { faHeart as fullHeart } from '@fortawesome/free-solid-svg-icons'\r\n\r\nconst Like = ({ liked, className, colorUnliked, colorLiked, onClick }) => {\r\n  const icon = liked ? fullHeart : emptyHeart\r\n  const color = liked ? colorLiked : colorUnliked\r\n  return (\r\n    <button className={`btn no-border ${className}`} onClick={onClick}>\r\n      <FontAwesomeIcon icon={icon} style={{ color }} />\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default Like\r\n","import React, { Component } from 'react'\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faStar as fullStar } from '@fortawesome/free-solid-svg-icons'\r\nimport { faStar as emptyStar } from '@fortawesome/free-regular-svg-icons'\r\nimport { faStarHalf as halfStarNoBorder } from '@fortawesome/free-solid-svg-icons'\r\nimport { faStarHalfAlt as halfStarBorder } from '@fortawesome/free-solid-svg-icons'\r\n\r\nclass StarRating extends Component {\r\n  getStars = () => {\r\n    const { rating, maxRating, hideEmptyStars } = this.props\r\n    const fullStarCount = Math.floor(rating)\r\n    const halfStar = hideEmptyStars ? halfStarNoBorder : halfStarBorder\r\n\r\n    const hasHalf = rating % 1 !== 0\r\n\r\n    const stars = new Array(maxRating).fill(emptyStar).fill(fullStar, 0, fullStarCount)\r\n\r\n    if (hasHalf) stars[fullStarCount] = halfStar\r\n    return stars\r\n  }\r\n\r\n  renderStars = () => {\r\n    const { hideEmptyStars, className, color } = this.props\r\n    return this.getStars().map((star, index) => (\r\n      <FontAwesomeIcon\r\n        key={index}\r\n        className={`${className} ${hideEmptyStars && star === emptyStar ? 'invisible' : 'visible'} fa-w-18`}\r\n        icon={star}\r\n        style={{ color }}\r\n      />\r\n    ))\r\n  }\r\n\r\n  render() {\r\n    return <div className=\"text-nowrap\">{this.renderStars()}</div>\r\n  }\r\n}\r\n\r\nexport default StarRating\r\n","import React from 'react'\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTimes as cross } from '@fortawesome/free-solid-svg-icons'\r\n\r\nconst DeleteButton = ({ className, onClick }) => {\r\n  return (\r\n    <button onClick={onClick} type=\"button\" className={`btn btn-danger ${className}`}>\r\n      <FontAwesomeIcon icon={cross} />\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default DeleteButton\r\n","import React, { Component } from 'react'\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faSortUp, faSortDown, faSort } from '@fortawesome/free-solid-svg-icons'\r\n\r\nclass TableHeader extends Component {\r\n  sortBy = (propertyPath) => {\r\n    const sortColumn = { ...this.props.sortColumn }\r\n    if (propertyPath === sortColumn.propertyPath) {\r\n      sortColumn.order = { asc: 'desc', desc: 'asc' }[sortColumn.order]\r\n    } else {\r\n      sortColumn.propertyPath = propertyPath\r\n      sortColumn.order = 'asc'\r\n    }\r\n\r\n    this.props.onSort(sortColumn)\r\n  }\r\n\r\n  getSortIcon = (column) => {\r\n    const { sortColumn } = this.props\r\n    if (column.propertyPath !== sortColumn.propertyPath) return faSort\r\n    else return { asc: faSortDown, desc: faSortUp, null: faSort }[sortColumn.order]\r\n  }\r\n\r\n  renderSortIcon = (column) => {\r\n    if (!column.propertyPath) return null\r\n    else return <FontAwesomeIcon icon={this.getSortIcon(column)} className=\"ml-1 fa-w-18 text-muted\" size=\"sm\" />\r\n  }\r\n\r\n  render() {\r\n    const { columns } = this.props\r\n    return (\r\n      <thead>\r\n        <tr>\r\n          {columns.map((column) => {\r\n            const { key, propertyPath, label } = column\r\n            const isSortable = !!propertyPath\r\n            return (\r\n              <th\r\n                key={propertyPath || key}\r\n                onClick={isSortable ? () => this.sortBy(propertyPath) : () => {}}\r\n                scope=\"col\"\r\n                className={`text-nowrap pl-3`}\r\n                role={isSortable ? 'button' : ''}>\r\n                {label}\r\n                {this.renderSortIcon(column)}\r\n              </th>\r\n            )\r\n          })}\r\n        </tr>\r\n      </thead>\r\n    )\r\n  }\r\n}\r\n\r\nTableHeader.defaultProps = {\r\n  sortColumn: { propertyPath: null, order: null },\r\n}\r\n\r\nexport default TableHeader\r\n","import React, { Component } from 'react'\r\nimport _ from 'lodash'\r\n\r\nclass TableBody extends Component {\r\n  renderCell = (item, column) => {\r\n    return column.render ? column.render(item) : _.get(item, column.propertyPath)\r\n  }\r\n\r\n  createKey = (item, column) => `${item._id}-${column.propertyPath || column.key}`\r\n\r\n  render() {\r\n    const { data, columns } = this.props\r\n    return (\r\n      <tbody>\r\n        {data.map((item) => (\r\n          <tr key={item._id}>\r\n            {columns.map((column) => (\r\n              <td key={this.createKey(item, column)}>{this.renderCell(item, column)}</td>\r\n            ))}\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n    )\r\n  }\r\n}\r\n\r\nexport default TableBody\r\n","import React from 'react'\r\n\r\nimport TableHeader from '../common/TableHeader'\r\nimport TableBody from '../common/TableBody'\r\n\r\nconst Table = ({ data, columns, sortColumn, onSort, className }) => (\r\n  <table className={`table ${className}`}>\r\n    <TableHeader columns={columns} sortColumn={sortColumn} onSort={onSort} />\r\n    <TableBody columns={columns} data={data} />\r\n  </table>\r\n)\r\n\r\nexport default Table\r\n","import React, { Component } from 'react'\r\n\r\nimport Like from './common/Like'\r\nimport StarRating from './common/StarRating'\r\nimport DeleteButton from './common/DeleteButton'\r\nimport Table from './common/Table'\r\n\r\nclass MoviesTable extends Component {\r\n  columns = [\r\n    { propertyPath: 'title', label: 'Title' },\r\n    { propertyPath: 'genre.name', label: 'Genre' },\r\n    { propertyPath: 'numberInStock', label: 'Stock' },\r\n    {\r\n      propertyPath: 'dailyRentalRate',\r\n      label: 'Rating',\r\n      render: (movie) => (\r\n        <StarRating\r\n          className=\"star darkgold\"\r\n          //hideEmptyStars={true}\r\n          rating={movie.dailyRentalRate}\r\n          maxRating={5}\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      propertyPath: 'liked',\r\n      label: 'Liked',\r\n      render: (movie) => (\r\n        <Like\r\n          liked={movie.liked}\r\n          //colorUnliked=\"black\"\r\n          //colorLiked=\"red\"\r\n          onClick={() => {\r\n            this.props.onLike(movie._id)\r\n          }}\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      key: 'delete',\r\n      render: (movie) => (\r\n        <DeleteButton\r\n          className=\"deleteButton btn-sm\"\r\n          onClick={() => {\r\n            this.props.onDelete(movie._id)\r\n          }}\r\n        />\r\n      ),\r\n    },\r\n  ]\r\n\r\n  render() {\r\n    const { movies, sortColumn, onSort } = this.props\r\n\r\n    return (\r\n      <Table\r\n        className=\"table-hover align-middle text-center\"\r\n        data={movies}\r\n        columns={this.columns}\r\n        sortColumn={sortColumn}\r\n        onSort={onSort}\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nMoviesTable.defaultProps = {}\r\n\r\nexport default MoviesTable\r\n","import React, { Component } from 'react'\r\nimport _ from 'lodash'\r\n\r\nimport { getMovies } from '../services/fakeMovieService'\r\n\r\nimport Pagination from './common/Pagination'\r\nimport { paginate } from '../utils/paginate'\r\n\r\nimport { getGenres } from '../services/fakeGenreService'\r\nimport ListGroup from './common/ListGroup'\r\nimport MoviesTable from './MoviesTable'\r\n\r\nclass Movies extends Component {\r\n  state = {\r\n    movies: null,\r\n    genres: null,\r\n    selectedGenre: null,\r\n    pageSize: 4,\r\n    currentPage: 1,\r\n    sortColumn: { propertyPath: 'title', order: 'asc' },\r\n  }\r\n\r\n  static sort(movies, sortColumn) {\r\n    let sortedMovies = _(movies).sortBy('title').sortBy(sortColumn.propertyPath).value()\r\n    if (sortColumn.order === 'desc') sortedMovies = _.reverse(sortedMovies)\r\n    if (sortColumn.propertyPath === 'liked') sortedMovies = _.reverse(sortedMovies)\r\n    return sortedMovies\r\n  }\r\n\r\n  componentDidMount() {\r\n    const genreAny = { _id: null, name: 'All Genres' }\r\n    const genres = [genreAny, ...getGenres()]\r\n    const movies = Movies.sort(getMovies(), this.state.sortColumn)\r\n    this.setState({ movies, genres, selectedGenre: genreAny })\r\n  }\r\n\r\n  handleLike = (movieId) => {\r\n    // Copy state.movies\r\n    const movies = [...this.state.movies]\r\n    // Find the clicked movie index\r\n    const movieIndex = this.state.movies.findIndex((movie) => movie._id === movieId)\r\n    // Copy the movie\r\n    let movie = { ...movies[movieIndex] }\r\n    // Update properties\r\n    movie.liked = !movie.liked\r\n    movie.dailyRentalRate = movie.dailyRentalRate + (movie.liked ? 0.5 : -0.5)\r\n    // Update movie\r\n    movies[movieIndex] = { ...movie }\r\n    // Set state\r\n    this.setState({ movies })\r\n  }\r\n\r\n  handleDelete = (movieId) => {\r\n    const movies = this.state.movies.filter((movie) => movie._id !== movieId)\r\n    const pageCount = Math.ceil(movies.length / this.state.pageSize)\r\n    const currentPage = _.clamp(this.state.currentPage, 1, pageCount)\r\n    this.setState({ movies, currentPage })\r\n  }\r\n\r\n  handlePageChange = (page) => {\r\n    this.setState({ currentPage: page })\r\n  }\r\n\r\n  handleGenreChange = (genre) => {\r\n    this.setState({ selectedGenre: genre, currentPage: 1 })\r\n  }\r\n\r\n  handleSort = (sortColumn) => {\r\n    const movies = Movies.sort(this.state.movies, sortColumn)\r\n    this.setState({ movies, sortColumn, currentPage: 1 })\r\n  }\r\n\r\n  getPagedData = () => {\r\n    const { movies, selectedGenre, pageSize, currentPage } = this.state\r\n    const filteredMovies = selectedGenre?._id ? movies.filter((movie) => movie.genre._id === selectedGenre._id) : movies\r\n    const processedMovies = filteredMovies\r\n    const totalMovieCount = processedMovies.length\r\n    const moviesOnPage = paginate(processedMovies, currentPage, pageSize)\r\n\r\n    return { moviesOnPage, totalMovieCount }\r\n  }\r\n\r\n  render() {\r\n    const { movies, genres, selectedGenre, pageSize, currentPage, sortColumn } = this.state\r\n\r\n    if (!movies || !genres) return <p className=\"h3 text-nowrap\">Loading...</p>\r\n\r\n    const { moviesOnPage, totalMovieCount } = this.getPagedData()\r\n\r\n    // if (totalMovieCount === 0) return <p className=\"h3\">There are no movies in the database.</p>;\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"row justify-content-center\">\r\n          <div className=\"genre-selection col d-flex flex-column align-items-right mr-3 mb-4 text-center\">\r\n            <ListGroup items={genres} selectedItem={selectedGenre} onItemSelect={this.handleGenreChange} />\r\n          </div>\r\n          <div className=\"results col d-flex flex-column align-items-stretch\">\r\n            <p className=\"h3 mb-4\">Showing {totalMovieCount} movies in the database.</p>\r\n\r\n            <div className=\"table-responsive text-nowrap\">\r\n              <MoviesTable\r\n                movies={moviesOnPage}\r\n                sortColumn={sortColumn}\r\n                onLike={this.handleLike}\r\n                onDelete={this.handleDelete}\r\n                onSort={this.handleSort}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"mt-2\">\r\n              <Pagination\r\n                onPageChange={this.handlePageChange}\r\n                itemsCount={totalMovieCount}\r\n                pageSize={pageSize}\r\n                currentPage={currentPage}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Movies\r\n","import React from 'react'\nimport Movies from './components/Movies'\n\nfunction App() {\n  return (\n    <main className=\"container mt-4 d-flex justify-content-center\">\n      <Movies />\n    </main>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App.jsx'\nimport './css/main.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}